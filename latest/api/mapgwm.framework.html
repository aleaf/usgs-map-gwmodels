<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mapgwm.framework module &mdash; usgs-map-gwmodels 0.post78.dev0+g4591bd8 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mapgwm.headobs module" href="mapgwm.headobs.html" />
    <link rel="prev" title="mapgwm.check_input_datasets module" href="mapgwm.checkdatasets.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> usgs-map-gwmodels
          </a>
              <div class="version">
                0.post78.dev0+g4591bd8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../philosophy.html">Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/Example.html">Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/Example.html"> Demo of USGS-MAP-gwmodels</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html"> Code reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="mapgwm.checkdatasets.html">mapgwm.check_input_datasets module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">mapgwm.framework module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.headobs.html">mapgwm.headobs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.lookups.html">mapgwm.lookups module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.nhdplus.html">mapgwm.nhdplus module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.swb.html">mapgwm.swb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.swflows.html">mapgwm.swflows module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.swuds.html">mapgwm.swuds module</a></li>
<li class="toctree-l2"><a class="reference internal" href="mapgwm.thermal.html">mapgwm.te_wateruse module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../inputs.html"> Input Data Descriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release-history.html"> Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html"> Contributing to usgs-map-gwmodels</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Bibliography</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references.html"> References cited</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">usgs-map-gwmodels</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Modules</a> &raquo;</li>
      <li>mapgwm.framework module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/mapgwm.framework.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="module-mapgwm.framework">
<span id="mapgwm-framework-module"></span><h1>mapgwm.framework module<a class="headerlink" href="#module-mapgwm.framework" title="Permalink to this headline">¶</a></h1>
<p>Functions for preprocessing products from the MAP Framework Team</p>
<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.add_discrete_colors_legend">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">add_discrete_colors_legend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'copper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#add_discrete_colors_legend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.add_discrete_colors_legend" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a legend with a colored rectangle and label for each
discrete value in data.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ax</strong><span class="classifier">matplotlib axes object</span></dt><dd><p>An axes of the current figure.</p>
</dd>
<dt><strong>data</strong><span class="classifier">np.array or list-like</span></dt><dd><p>Discrete data represented by legend.</p>
</dd>
<dt><strong>unit_labels</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary of unit labels keyed by integer value in data, 
by default None, in which case all values in data
are included with the integer value as the label.</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap, by default ‘copper’</p>
</dd>
<dt><strong>vmin</strong><span class="classifier">float, optional</span></dt><dd><p>Minimum value of colormap range, 
by default None</p>
</dd>
<dt><strong>vmax</strong><span class="classifier">float, optional</span></dt><dd><p>Maximum value of colormap range, , by default None</p>
</dd>
<dt><strong>**kwargs</strong><span class="classifier">keyword arguments to <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.legend.html#matplotlib.pyplot.legend" title="(in Matplotlib v3.5.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.legend()</span></code></a></span></dt><dd></dd>
<dt><strong>Return</strong></dt><dd></dd>
<dt><strong>lg</strong><span class="classifier"><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.legend.html#matplotlib.pyplot.legend" title="(in Matplotlib v3.5.1)"><code class="xref py py-func docutils literal notranslate"><span class="pre">matplotlib.pyplot.legend()</span></code></a> handle</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.get_layer">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">get_layer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">botm_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">i</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">j</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elev</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#get_layer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.get_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the botm_array for elevations at i, j locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>botm_array</strong><span class="classifier">3D numpy array</span></dt><dd><p>layer bottom elevations</p>
</dd>
<dt><strong>i</strong><span class="classifier">scaler or sequence</span></dt><dd><p>row index (zero-based)</p>
</dd>
<dt><strong>j</strong><span class="classifier">scaler or sequence</span></dt><dd><p>column index</p>
</dd>
<dt><strong>elev</strong><span class="classifier">scaler or sequence</span></dt><dd><p>elevation (in same units as model)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>k</strong><span class="classifier">np.ndarray (1-D) or scalar</span></dt><dd><p>zero-based layer index</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.layers_to_zones">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">layers_to_zones</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">botm_array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_cell_z_centers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#layers_to_zones"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.layers_to_zones" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the layers from one grid to zones on another grid. In other words,
given a 3D array of model cell bottom elevations (botm_array), and a second
3D array of cell centers at the same i, j locations as botm_array,
but with different vertical discretization (model_cell_z_centers),
assign each cell in the model_cell_z_centers array a zone value based on its
vertical position within botm array. For example, a cell that lies above all of the
elevations in botm_array would be assigned a zone number of zero; a cell that lies below
the first bottom elevation would be assigned a value of 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>botm_array</strong><span class="classifier">3D numpy array</span></dt><dd><p>Layer bottom elevations</p>
</dd>
<dt><strong>model_cell_z_centers</strong><span class="classifier">3D numpy array</span></dt><dd><p>Cell centers for another grid that is aligned with
botm_array along the i and j axis, but has a different vertical
discretation.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>zones</strong><span class="classifier">3D numpy array</span></dt><dd><p>Zone numbers indicating the layer in botm_array for each
cell in model_cell_z_centers.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.plot_cross_sections">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">plot_cross_sections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_start_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_zones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'copper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'viridis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_raster_surfaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelgrid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#plot_cross_sections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.plot_cross_sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a multi-page PDF of the layer cross sections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>layers</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of layer elevations, starting with the model top. 
(Length equal to the number of botm_array + 1)</p>
</dd>
<dt><strong>property_data</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of zone numbers generated by setup_model_layers.</p>
</dd>
<dt><strong>out_pdf</strong><span class="classifier">str (filepath)</span></dt><dd><p>Filename of multi-page PDF.</p>
</dd>
<dt><strong>voxel_start_layer</strong><span class="classifier">int, optional</span></dt><dd><p>First layer with voxel data, by default 0</p>
</dd>
<dt><strong>voxel_zones</strong><span class="classifier">sequence, optional</span></dt><dd><p>Zone numbers within property_data that are voxel-based, 
by default None</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for non-voxel zone numbers, by default ‘copper’,
to contrast with colormap for voxel-based zone numbers.</p>
</dd>
<dt><strong>voxel_cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for voxel-based zone numbers, by default ‘viridis’.</p>
</dd>
<dt><strong>unit_labels</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping non-voxel zone numbers to hydrogeologic units, 
by default None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.plot_slice">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">plot_slice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer_elevations</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">slice(None,</span> <span class="pre">None,</span> <span class="pre">None)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_start_layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_zones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'copper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'viridis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_surfaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#plot_slice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.plot_slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a single cross section slice</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>layer_elevations</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of layer elevations, starting with the model top. 
(Length equal to the number of botm_array + 1)</p>
</dd>
<dt><strong>property_data</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of zone numbers generated by setup_model_layers.</p>
</dd>
<dt><strong>row</strong><span class="classifier">int or slice instance</span></dt><dd><p>If a cross section along a row is desired, row should be a integer,
and column should be a slice instance indicating the range of columns to include.
by default, 0.</p>
</dd>
<dt><strong>column</strong><span class="classifier">int or slice instance</span></dt><dd><p>If a cross section along a column is desired, column should be a integer,
and row should be a slice instance indicating the range of rows to include.
by default, slice(None), which includes all columns.</p>
</dd>
<dt><strong>voxel_start_layer</strong><span class="classifier">int, optional</span></dt><dd><p>First layer with voxel data, by default 0</p>
</dd>
<dt><strong>voxel_zones</strong><span class="classifier">sequence, optional</span></dt><dd><p>Zone numbers within property_data that are voxel-based, 
by default None</p>
</dd>
<dt><strong>cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for non-voxel zone numbers, by default ‘copper’,
to contrast with colormap for voxel-based zone numbers.</p>
</dd>
<dt><strong>voxel_cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for voxel-based zone numbers, by default ‘viridis’.</p>
</dd>
<dt><strong>unit_labels</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping non-voxel zone numbers to hydrogeologic units, 
by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ax</strong><span class="classifier">matplotlib AxesSubplot instance for figure</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.plot_zone_maps">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">plot_zone_maps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'viridis'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zones_cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'copper'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">voxel_zones</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#plot_zone_maps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.plot_zone_maps" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a multi-page PDF of the zones in each layer in plan view.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>layers</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of layer elevations, starting with the model top. 
(Length equal to the number of botm_array + 1)</p>
</dd>
<dt><strong>zones</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of zone numbers generated by setup_model_layers.</p>
</dd>
<dt><strong>out_pdf</strong><span class="classifier">str (filepath)</span></dt><dd><p>Filename of multi-page PDF.</p>
</dd>
<dt><strong>voxel_zones</strong><span class="classifier">sequence, optional</span></dt><dd><p>Zone numbers within property_data that are voxel-based, 
by default None</p>
</dd>
<dt><strong>unit_labels</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for non-voxel zone numbers, by default ‘copper’,
to contrast with colormap for voxel-based zone numbers.</p>
</dd>
<dt><strong>voxel_cmap</strong><span class="classifier">str, optional</span></dt><dd><p>Matplotlib colormap for voxel-based zone numbers, by default ‘viridis’.</p>
</dd>
<dt><strong>unit_labels</strong><span class="classifier">dict, optional</span></dt><dd><p>Dictionary mapping non-voxel zone numbers to hydrogeologic units, 
by default None</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.rasters_to_grid">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">rasters_to_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modelgrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rasters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_elevation_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">raster_elevation_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_elevation_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#rasters_to_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.rasters_to_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample a sequence of rasters onto the i, j locations of a modelgrid,
returning a 3D numpy array of the sampled elevations. Fill places with nodata
using the next valid surface above.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>modelgrid</strong><span class="classifier">Modflow-setup <a class="reference external" href="https://usgs.github.io/modflow-setup/latest/api/mfsetup.grid.html#mfsetup.grid.MFsetupGrid" title="(in modflow-setup v0.post298+g7eeb56a)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MFsetupGrid</span></code></a> instance</span></dt><dd><p>Modflow-setup grid instance describing the model grid</p>
</dd>
<dt><strong>dem</strong><span class="classifier">str (filepath)</span></dt><dd><p>Raster representing the land surface, at the highest resolution being contemplated for the model.
Usually this is derived by sampling a higher resolution DEM using zonal statistics, taking
the mean DEM value for each model cell.</p>
</dd>
<dt><strong>rasters</strong><span class="classifier">list of strings (filepaths)</span></dt><dd><p>Raster surfaces describing hydrogelogic contacts surrounding the voxel data.</p>
</dd>
<dt><strong>dem_elevation_units</strong><span class="classifier">str, optional</span></dt><dd><p>Elevation units of dem_means_raster, by default ‘meters’</p>
</dd>
<dt><strong>framework_raster_elevation_units</strong><span class="classifier">str, optional</span></dt><dd><p>Elevation units of the framework_rasters, by default ‘meters’</p>
</dd>
<dt><strong>model_length_units</strong><span class="classifier">str, optional</span></dt><dd><p>Length units used in the model, by default ‘meters’</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<p>See the documentation for the <a class="reference external" href="https://usgs.github.io/modflow-setup/latest/api/mfsetup.discretization.html#mfsetup.discretization.fill_cells_vertically" title="(in modflow-setup v0.post298+g7eeb56a)"><code class="xref py py-func docutils literal notranslate"><span class="pre">fill_cells_vertically</span></code></a>
function in Modflow-setup for an explanation of the filling process.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="mapgwm.framework.setup_model_layers">
<span class="sig-prename descclassname"><span class="pre">mapgwm.framework.</span></span><span class="sig-name descname"><span class="pre">setup_model_layers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dem_means_raster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_classes_netcdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framework_rasters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modelgrid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_class_variable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'facies-class'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_zedge_variable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'z-edges'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dem_elevation_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framework_raster_elevation_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_length_units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'meters'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_folder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">frac_valid_cells_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">framework_unit_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/mapgwm/framework.html#setup_model_layers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#mapgwm.framework.setup_model_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate model layering and property zones from voxel-based zone numbers at uniform depths
and raster surfaces that represent hydrogeologic contacts. The voxel-based zone numbers may
represent hydrogeologically different sediments, as determined from an airborne electromagnetic survey, 
and are assumed to have priority over the raster surfaces. The model top is set at the land surface (DEM). 
Subsequent cell bottoms beneath the land surface are set based on the voxel depths subtracted from the DEM elevations, 
as sampled at the grid cell centers. Voxel cells without valid data are filled with zone numbers based
on their position within the raster surfaces of hydrogeologic contacts. For example, a voxel
cell that lies above all of the raster surfaces would be assigned a zone number equal to the
highest voxel-based zone number + 3 (an arbitrary gap in the zone numbering between the voxel data
and the raster surfaces). Similarly, beneath the lowest voxel cell at each location, grid cells are 
assigned zone values based on their vertical position relative to the raster surfaces. Below the voxel data,
botm_array and their bottom elevations correspond to the framework_raster surfaces. The lowermost
(last) raster surface forms the model bottom.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>dem_means_raster</strong><span class="classifier">str (filepath)</span></dt><dd><p>Raster representing the land surface, at the highest resolution being contemplated for the model.
Usually this is derived by sampling a higher resolution DEM using zonal statistics, taking
the mean DEM value for each model cell.</p>
</dd>
<dt><strong>facies_classes_netcdf</strong><span class="classifier">str (filepath)</span></dt><dd><p>NetCDF file with the voxel zone data, with a facies_class_variable that contains the zone numbers.</p>
</dd>
<dt><strong>framework_rasters</strong><span class="classifier">list of strings (filepaths)</span></dt><dd><p>Raster surfaces describing hydrogelogic contacts surrounding the voxel data.</p>
</dd>
<dt><strong>modelgrid</strong><span class="classifier">mfsetup.MFsetupGrid instance</span></dt><dd><p>Modflow-setup grid instance describing the model grid</p>
</dd>
<dt><strong>facies_class_variable</strong><span class="classifier">str, optional</span></dt><dd><p>Variable in facies_classes_netcdf containing the zone information, 
by default ‘facies-class’</p>
</dd>
<dt><strong>facies_zedge_variable</strong><span class="classifier">str, optional</span></dt><dd><p>Variable in facies_classes_netcdf containing the vertical depth edge information.
by default ‘z-edges’</p>
</dd>
<dt><strong>dem_elevation_units</strong><span class="classifier">str, optional</span></dt><dd><p>Elevation units of dem_means_raster, by default ‘meters’</p>
</dd>
<dt><strong>framework_raster_elevation_units</strong><span class="classifier">str, optional</span></dt><dd><p>Elevation units of the framework_rasters, by default ‘meters’</p>
</dd>
<dt><strong>model_length_units</strong><span class="classifier">str, optional</span></dt><dd><p>Length units used in the model, by default ‘meters’</p>
</dd>
<dt><strong>output_folder</strong><span class="classifier">str, optional</span></dt><dd><p>Location where results will be saved, by default ‘.’</p>
</dd>
<dt><strong>frac_valid_cells_thresh</strong><span class="classifier">float between 0 and 1, optional</span></dt><dd><p>Layers within facies_classes_netcdf must have at least this fraction
of valid (not Nan) cells to be included.</p>
</dd>
<dt><strong>framework_unit_names</strong><span class="classifier">list, optional</span></dt><dd><p>Unit names for the framework_rasters, by default None</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>botm_array</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of layer elevations, starting with the model top. 
(Length equal to the number of botm_array + 1)</p>
</dd>
<dt><strong>zone_array</strong><span class="classifier">3D numpy array</span></dt><dd><p>Array of zone numbers, including the values from facies_classes_netcdf,
followed by a gap of 3 and then the numbers for the framework_rasters.
For example, if there are 5 zones in facies_classes_netcdf, and 3 raster surfaces
that intersect cells outside of the voxel data, zones 1-5 would correspond
to the voxel zones, and zones 8-10 would correspond to hydrogeologic units
bounded by the framework_rasters.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>In addition to the variables returned, the results are written
to text-array and GeoTiff files within the output_folder.</p>
<p>Two PDFs of figures are also generated- one showing the layering
in cross sections at regular intervals throughout the model grid, and one
showing the zones within each layer in plan view.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="mapgwm.checkdatasets.html" class="btn btn-neutral float-left" title="mapgwm.check_input_datasets module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="mapgwm.headobs.html" class="btn btn-neutral float-right" title="mapgwm.headobs module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated">Last updated on Mar 31, 2022.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>